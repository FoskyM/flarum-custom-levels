(()=>{var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";e.r(t),e.d(t,{extend:()=>a});const o=flarum.core.compat["common/extenders"];var r=e.n(o);const n=flarum.core.compat["common/models/User"];var s=e.n(n);const a=[new(r().Model)(s()).attribute("expLevel").attribute("expPercent").attribute("expTotal")],l=flarum.core.compat["forum/app"];var c=e.n(l);const p=flarum.core.compat["common/extend"],u=flarum.core.compat["forum/components/PostUser"];var i=e.n(u);const v=flarum.core.compat["forum/components/UserCard"];var f=e.n(v);const d=flarum.core.compat["forum/components/CommentPost"];var x=e.n(d);function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}flarum.core.compat["common/models/Post"];const b=flarum.core.compat["common/app"];var P=e.n(b);const h=flarum.core.compat["common/Component"];var L=e.n(h);const O=flarum.core.compat["common/components/Tooltip"];var T=e.n(O);const C=flarum.core.compat["common/utils/extractText"];var _=e.n(C),j=function(e){var t,o;function r(){return e.apply(this,arguments)||this}o=e,(t=r).prototype=Object.create(o.prototype),t.prototype.constructor=t,y(t,o);var n=r.prototype;return n.oninit=function(t){e.prototype.oninit.call(this,t)},n.view=function(){var e=this.attrs.user;console.log(e.expLevel());var t,o,r=!1;return t=P().forum.attribute("foskym-custom-levels.levelText")||_()(P().translator.trans("foskym-custom-levels.lib.defaults.level")),o=P().forum.attribute("foskym-custom-levels.expText")||_()(P().translator.trans("foskym-custom-levels.lib.defaults.exp")),isNaN(e.expTotal())||isNaN(e.expPercent())||isNaN(e.expLevel())||e.expTotal()<0||e.expPercent()<0||e.expLevel()<0?(r=!0,o=_()(P().translator.trans("foskym-custom-levels.lib.error.calculation"))):(o=o.replace("[expTotal]",e.expTotal()),t=t.indexOf("[level]")>-1?t.replace("[level]",e.expLevel()):t+" "+e.expLevel()),r?m("div",{class:"CustomLevel-level"},o):m(T(),{text:o},m("div",{class:"CustomLevel-level"},m("span",{class:"CustomLevel-text"},t),m("div",{class:"CustomLevel-bar"},m("div",{class:"CustomLevel-bar-value",style:"width: "+e.expPercent()+"%;"}))))},r}(L());c().initializers.add("foskym/flarum-custom-levels",(function(){(0,p.extend)(i().prototype,"view",(function(e){var t=this.attrs.post.user();t&&e.children.push(j.component({user:t}))})),(0,p.extend)(x().prototype,"headerItems",(function(e){var t=this.attrs.post.user();t&&e.add("custom-levels",j.component({user:t}),10)})),(0,p.extend)(f().prototype,"infoItems",(function(e){var t=this.attrs.user;t&&e.add("custom-levels",j.component({user:t}),50)}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map