{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@foskym/flarum-custom-levels/./src/common/components/LevelBar.js","webpack://@foskym/flarum-custom-levels/external root \"flarum.core.compat['common/Component']\"","webpack://@foskym/flarum-custom-levels/external root \"flarum.core.compat['common/app']\"","webpack://@foskym/flarum-custom-levels/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@foskym/flarum-custom-levels/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@foskym/flarum-custom-levels/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@foskym/flarum-custom-levels/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@foskym/flarum-custom-levels/webpack/bootstrap","webpack://@foskym/flarum-custom-levels/webpack/runtime/compat get default export","webpack://@foskym/flarum-custom-levels/webpack/runtime/define property getters","webpack://@foskym/flarum-custom-levels/webpack/runtime/hasOwnProperty shorthand","webpack://@foskym/flarum-custom-levels/webpack/runtime/make namespace object","webpack://@foskym/flarum-custom-levels/./src/common/index.ts","webpack://@foskym/flarum-custom-levels/external root \"flarum.core.compat['admin/app']\"","webpack://@foskym/flarum-custom-levels/external root \"flarum.core.compat['extend']\"","webpack://@foskym/flarum-custom-levels/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@foskym/flarum-custom-levels/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@foskym/flarum-custom-levels/./src/admin/components/SettingsPage.tsx","webpack://@foskym/flarum-custom-levels/./src/admin/index.js"],"sourcesContent":["import app from 'flarum/common/app';\nimport Component from 'flarum/common/Component';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport extractText from 'flarum/common/utils/extractText';\n\nexport default class LevelBar extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n\n  view() {\n    const user = this.attrs.user;\n    const settings = this.attrs.settings || {};\n    let levelText, expText, expFormula, levelFormula;\n\n    levelText =\n      settings.levelText ??\n      (app.forum.attribute('foskym-custom-levels.levelText') || extractText(app.translator.trans('foskym-custom-levels.lib.defaults.level')));\n    expText =\n      settings.expText ??\n      (app.forum.attribute('foskym-custom-levels.expText') || extractText(app.translator.trans('foskym-custom-levels.lib.defaults.exp')));\n    expFormula =\n      settings.expFormula ??\n      (app.forum.attribute('foskym-custom-levels.expFormula') || extractText(app.translator.trans('foskym-custom-levels.lib.defaults.expFormula')));\n    levelFormula =\n      settings.levelFormula ??\n      (app.forum.attribute('foskym-custom-levels.levelFormula') ||\n        extractText(app.translator.trans('foskym-custom-levels.lib.defaults.levelFormula')));\n\n    expFormula = expFormula\n      .replace('[commentCount]', user.commentCount())\n      .replace('[discussionCount]', user.discussionCount())\n      .replace('[money]', 'antoinefr-money' in flarum.extensions ? user.attribute('money') || 0 : 0)\n      .replace('[likesReceived]', 'clarkwinkelmann-likes-received' in flarum.extensions ? user.attribute('likesReceived') || 0 : 0)\n      .replace('[bestAnswerCount]', 'fof-best-answer' in flarum.extensions ? user.attribute('bestAnswerCount') || 0 : 0);\n\n    let expLevel = 0;\n    let expPercent = 0;\n\n    let error = false;\n\n    try {\n      let expTotal = Math.floor(eval(expFormula));\n\n      levelFormula = levelFormula.replace('[expTotal]', expTotal);\n      if (levelFormula.indexOf('[level]') > -1) {\n        let n = 1;\n        while (n < eval(levelFormula.replace('[level]', n))) {\n          n++;\n        }\n        expLevel = Math.floor(n - 1);\n        expPercent = (eval(levelFormula.replace('[level]', expLevel)) - expLevel) * 100;\n        if (expPercent > 100) expPercent = (eval(levelFormula.replace('[level]', expLevel)) - expLevel - 1) * 100;\n      } else {\n        expLevel = Math.floor(eval(levelFormula));\n        expPercent = (eval(levelFormula) - expLevel) * 100;\n      }\n\n      expText = expText.replace('[expTotal]', expTotal);\n      if (levelText.indexOf('[level]') > -1) levelText = levelText.replace('[level]', expLevel);\n      else levelText = levelText + ' ' + expLevel;\n    } catch (e) {\n      // console.error(e);\n      console.log(e);\n      error = true;\n      expText = extractText(app.translator.trans('foskym-custom-levels.lib.error.calculation'));\n    }\n\n    return error ? (\n      <div class=\"CustomLevel-level\">{expText}</div>\n    ) : (\n      <Tooltip text={expText}>\n        <div class=\"CustomLevel-level\">\n          <span class=\"CustomLevel-text\">{levelText}</span>\n          <div class=\"CustomLevel-bar\">\n            <div class=\"CustomLevel-bar-value\" style={'width: ' + expPercent + '%;'}></div>\n          </div>\n        </div>\n      </Tooltip>\n    );\n  }\n}\n","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/app'];","module.exports = flarum.core.compat['common/components/Tooltip'];","module.exports = flarum.core.compat['common/utils/extractText'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import app from 'flarum/common/app';\n\napp.initializers.add('foskym/flarum-custom-levels', () => {\n  console.log('[foskym/flarum-custom-levels] Hello, forum and admin!');\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","import app from 'flarum/admin/app';\r\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport Alert from 'flarum/common/components/Alert';\r\nimport Button from 'flarum/common/components/Button';\r\nimport FieldSet from 'flarum/common/components/FieldSet';\r\nimport type { SaveSubmitEvent } from 'flarum/admin/components/AdminPage';\r\nimport type { AlertIdentifier } from 'flarum/common/states/AlertManagerState';\r\nimport type Mithril from 'mithril';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport extractText from 'flarum/common/utils/extractText';\r\nimport LevelBar from '../../common/components/LevelBar';\r\nimport avatar from 'flarum/common/helpers/avatar';\r\n\r\nexport default class SettingsPage extends ExtensionPage {\r\n  oninit(vnode: Mithril.Vnode) {\r\n    super.oninit(vnode);\r\n  }\r\n\r\n  refresh() {\r\n    m.redraw();\r\n  }\r\n\r\n  content() {\r\n    const user = app.session.user;\r\n    const settings = {} as any;\r\n    const keys = ['levelText', 'expText', 'expFormula', 'levelFormula'];\r\n    const defaults_keys = ['level', 'exp', 'expFormula', 'levelFormula'];\r\n    const prefix = 'foskym-custom-levels.';\r\n    keys.forEach((key) => {\r\n      settings[key] = app.data.settings[prefix + key] || extractText(app.translator.trans('foskym-custom-levels.lib.defaults.' + defaults_keys[keys.indexOf(key)]));\r\n    });\r\n\r\n    console.log(settings);\r\n\r\n    return (\r\n      <div className=\"ExtensionPage-settings\">\r\n        <div className=\"container\">\r\n          <div className=\"Form\">\r\n            <div className=\"Form-group\">\r\n              <label>{app.translator.trans('foskym-custom-levels.admin.settings.levelText')}</label>\r\n              <div class=\"helpText\">{app.translator.trans('foskym-custom-levels.admin.settings.levelDesc')}</div>\r\n              <input\r\n                type=\"text\"\r\n                className=\"FormControl\"\r\n                bidi={this.setting('foskym-custom-levels.levelText')}\r\n                placeholder={app.translator.trans('foskym-custom-levels.lib.defaults.level')}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"Form-group\">\r\n              <label>{app.translator.trans('foskym-custom-levels.admin.settings.expText')}</label>\r\n              <div class=\"helpText\">{app.translator.trans('foskym-custom-levels.admin.settings.expDesc')}</div>\r\n              <input\r\n                type=\"text\"\r\n                className=\"FormControl\"\r\n                bidi={this.setting('foskym-custom-levels.expText')}\r\n                placeholder={app.translator.trans('foskym-custom-levels.lib.defaults.exp')}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"Form-group\">\r\n              <label>{app.translator.trans('foskym-custom-levels.admin.settings.expFormula')}</label>\r\n              <div class=\"helpText\">{app.translator.trans('foskym-custom-levels.admin.settings.expFormulaDesc1')}</div>\r\n              <div class=\"helpText\">{app.translator.trans('foskym-custom-levels.admin.settings.expFormulaDesc2')}</div>\r\n              <div class=\"helpText\">{app.translator.trans('foskym-custom-levels.admin.settings.expFormulaDesc3')}</div>\r\n              <textarea\r\n                rows={3}\r\n                style=\"max-width: 400px;\"\r\n                className=\"FormControl\"\r\n                bidi={this.setting('foskym-custom-levels.expFormula')}\r\n                placeholder={app.translator.trans('foskym-custom-levels.lib.defaults.expFormula')}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"Form-group\">\r\n              <label>{app.translator.trans('foskym-custom-levels.admin.settings.levelFormula')}</label>\r\n              <div class=\"helpText\">{app.translator.trans('foskym-custom-levels.admin.settings.levelFormulaDesc')}</div>\r\n              <input\r\n                type=\"text\"\r\n                className=\"FormControl\"\r\n                bidi={this.setting('foskym-custom-levels.levelFormula')}\r\n                placeholder={app.translator.trans('foskym-custom-levels.lib.defaults.levelFormula')}\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"Form-group\">\r\n              <label>{app.translator.trans('foskym-custom-levels.admin.preview')}</label>\r\n              <div style=\"margin-left: 6px\">\r\n                {avatar(user)}\r\n              </div>\r\n              {LevelBar.component({ user: user, settings: settings })}\r\n            </div>\r\n\r\n            {this.submitButton()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  saveSettings(e: SaveSubmitEvent) {\r\n    return super.saveSettings(e).then(() => this.refresh());\r\n  }\r\n}\r\n","import app from 'flarum/admin/app';\nimport {extend, override} from 'flarum/extend';\nimport SettingsPage from './components/SettingsPage';\n\napp.initializers.add('foskym/flarum-custom-levels', () => {\n  app.extensionData.for('foskym-custom-levels')\n    .registerPage(SettingsPage);\n});\n"],"names":["LevelBar","_Component","apply","arguments","_inheritsLoose","_proto","prototype","oninit","vnode","call","view","_settings$levelText","_settings$expText","_settings$expFormula","_settings$levelFormul","user","this","attrs","settings","levelText","expText","expFormula","levelFormula","app","attribute","extractText","trans","replace","commentCount","discussionCount","flarum","extensions","expLevel","expPercent","error","expTotal","Math","floor","eval","indexOf","n","e","console","log","m","class","Tooltip","text","style","Component","module","exports","core","compat","_setPrototypeOf","o","p","Object","setPrototypeOf","bind","__proto__","subClass","superClass","create","constructor","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","d","a","definition","key","defineProperty","enumerable","get","obj","prop","hasOwnProperty","r","Symbol","toStringTag","value","add","SettingsPage","_ExtensionPage","refresh","redraw","content","keys","defaults_keys","forEach","className","type","bidi","setting","placeholder","rows","avatar","component","submitButton","saveSettings","_this","then","ExtensionPage","registerPage"],"sourceRoot":""}